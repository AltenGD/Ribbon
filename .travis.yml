sudo: required
dist: trusty
os: linux
language: node_js
node_js:
- '8'
python:
- '3.4'
cache:
  directories:
  - node_modules
before_install:
- openssl enc -aes-256-cbc -d -in auth.json.enc -out src/auth.json -K $encrypted_1a28fe9d9c4d_key -iv $encrypted_1a28fe9d9c4d_iv
- sudo apt-get update -y
- sudo apt-get install -y libcairo2-dev libjpeg-dev libpango1.0-dev libgif-dev build-essential
  g++ python3.4
- npm install -g node-pre-gyp node-gyp yarn
- echo "alias python=python3" >> .bashrc
- source .bashrc
before_script:
- yarn add sqlite
install:
- yarn install
script:
- yarn run lint
- yarn test
notifications:
  email: false
